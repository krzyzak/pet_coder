<div data-controller="modal"
     data-modal-auto-show-value="true"
     class="fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
  <div data-modal-target="modal"
       data-action="click->modal#backdropClick"
       class="fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50 flex">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4 transform scale-100">
      <div class="bg-gradient-to-r from-yellow-400 to-orange-500 rounded-t-lg p-6 text-center">
        <div class="text-6xl mb-4">🎉</div>
        <h2 class="text-3xl font-bold text-white mb-2">Congratulations!</h2>
        <p class="text-white text-lg">You've completed all levels!</p>
      </div>

      <div class="p-6 text-center">
        <div class="mb-6">
          <p class="text-gray-700 text-lg mb-2">
            <strong>Final Score: <%= Current.game.points %> points</strong>
          </p>
          <p class="text-gray-600">
            You've mastered all <%= Level.count %> levels with <%= Current.pet.name %>!
          </p>
        </div>

        <div class="space-y-3">
          <%= link_to "🔄 Start Over",
              reset_game_path,
              method: :put,
              class: "block w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg transition-colors shadow-lg",
              data: { turbo_method: :put } %>

          <%= link_to "🏆 View Leaderboard",
              leaderboard_players_path(Current.family),
              class: "block w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-lg transition-colors shadow-lg",
              data: { turbo: false } %>
        </div>
      </div>
    </div>
  </div>
</div>
